%%%%%%%%%%%%%%%%%%%%%%%%%%PACKAGES%%%%%%%%%%%%%%%%%%%%%%%%%%
%for diagrams%
\ifdefined\HTMLMODE
  \usepackage{graphicx}
\else
  \usepackage[dvipdfmx]{graphicx}
\fi
\usepackage{tikz}
\usepackage{tikz-cd}
\ifdefined\HTMLMODE
  %HTML: use tcolorbox instead of ascmac (itembox)
  \usepackage[most]{tcolorbox}
\else
  \usepackage{ascmac}%for itembox etc
\fi

%for equations, symbols%
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathrsfs}
\usepackage{amsthm}
\usepackage{latexsym}%for symbols of injection and surjection
\usepackage{stmaryrd}%for mapsfrom

%for quick writing%
\usepackage{bm}
\usepackage{physics}

%for layout (PDF only)%
\ifdefined\HTMLMODE
\else
  \usepackage{fancyhdr}%for header etc
  \usepackage{geometry}%%used in layout for assignments, harumichi
\fi

%hyperlink (PDF only)%
\ifdefined\HTMLMODE
\else
  \usepackage[dvipdfmx]{hyperref}%for hyperlink
  \usepackage{pxjahyper}%a patch for hyperref in Japanese
\fi

%for comment out%
\usepackage{comment}

%lateximage environment (for tikz-cd diagrams in HTML)
%tex4ht defines this later, so we define a fallback at \begin{document}
\ifdefined\HTMLMODE
  \makeatletter
  \AtBeginDocument{%
    \@ifundefined{lateximage}{%
      \newenvironment{lateximage}{}{}%
    }{}%
  }
  \makeatother
\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%PACKAGES%%%%%%%%%%%%%%%%%%%%%%%%%%