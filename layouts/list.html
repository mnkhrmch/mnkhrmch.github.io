{{ define "main" }}
<div class="list">
    <h2 class="section-title">
        {{ $title := .Title }}
        {{ $words := split $title " " }}
        {{ range $words }}
        <span class="initial">{{ substr . 0 1 }}</span>{{ substr . 1 }}
        {{ end }}
    </h2>

    {{ if .Content }}
    <div class="section-content">
        {{ .Content }}
    </div>
    {{ end }}

    {{ if .Paginator.Pages }}
    <ul class="page-list">
        {{ range .Paginator.Pages }}
        <li class="page-item">
            <a href="{{ .RelPermalink }}" class="page-link">
                <div class="page-header">
                    <h2 class="page-title">
                        {{ $title := .Title }}
                        {{ $words := split $title " " }}
                        {{ range $words }}
                        <span class="initial">{{ substr . 0 1 }}</span>{{ substr . 1 }}
                        {{ end }}
                    </h2>
                    {{ if .Date }}
                    <time class="page-date" datetime="{{ .Date.Format " 2006-01-02" }}">{{ .Date.Format "2006年1月2日"
                        }}</time>
                    {{ end }}
                </div>
                <hr>
                {{ if .Description }}
                <p class="page-description">{{ .Description }}</p>
                {{ else if .Summary }}
                {{ $summaryLength := .Site.Params.summary_length | default 100 }}
                {{ $summary := .Summary | plainify | truncate $summaryLength "......" }}
                <div class="page-description">{{ $summary }}</div>
                {{ end }}
            </a>
        </li>
        {{ end }}
    </ul>

    {{ if or .Paginator.HasPrev .Paginator.HasNext }}
    <nav class="pagination">
        <div class="pagination-links">
            {{ if .Paginator.HasPrev }}
            <a href="{{ .Paginator.Prev.URL }}" class="pagination-link prev-link">
                <span class="pagination-arrow">&lt;</span>
                <span class="pagination-label">前へ</span>
            </a>
            {{ else }}
            <span class="pagination-link prev-link disabled">
                <span class="pagination-arrow">&lt;</span>
                <span class="pagination-label">前へ</span>
            </span>
            {{ end }}

            <span class="pagination-info">
                <span class="pagination-current">{{ .Paginator.PageNumber }}</span>
                <span class="pagination-separator">/</span>
                <span class="pagination-total">{{ .Paginator.TotalPages }}</span>
            </span>

            {{ if .Paginator.HasNext }}
            <a href="{{ .Paginator.Next.URL }}" class="pagination-link next-link">
                <span class="pagination-label">次へ</span>
                <span class="pagination-arrow">&gt;</span>
            </a>
            {{ else }}
            <span class="pagination-link next-link disabled">
                <span class="pagination-label">次へ</span>
                <span class="pagination-arrow">&gt;</span>
            </span>
            {{ end }}
        </div>
    </nav>
    {{ end }}
    {{ end }}
</div>
{{ end }}